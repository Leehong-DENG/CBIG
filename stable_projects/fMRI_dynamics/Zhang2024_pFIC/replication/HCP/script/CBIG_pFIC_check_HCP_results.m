function CBIG_pFIC_check_HCP_results(output_path, reference_output_path)
% This function takes in outputs generated by users and compares them with
% the reference outputs
% Written by Shaoshi Zhang and CBIG under MIT license: https://github.com/ThomasYeoLab/CBIG/blob/master/LICENSE.md

user_test_matrix = csvread([output_path '/test_all.csv']);
reference_test_matrix = csvread([reference_output_path '/test_all.csv']);

if sum(abs(user_test_matrix(:) - reference_test_matrix(:))) < 1e-6
   disp('Passed! Results are the same as the reference outputs.')
else
   disp(['Failed. Results differ too much from the reference outputs. Please ' ...
       'check the hardware and software versions.'])
end

end
